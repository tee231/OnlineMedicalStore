var inAppClick=false;function stopDefault(a){if(a&&a.preventDefault){a.preventDefault()}else{window.event.returnValue=false}return false}function updateUserBtnPosition(a){jQuery("#btSignUp").css({marginTop:a?"25px":"14px"});jQuery("#btUser").css({marginTop:a?"36px":"25px"})}if(!window.bannerAnimationCallbacks){window.bannerAnimationCallbacks=new Array()}window.bannerAnimationCallbacks.push(updateUserBtnPosition);function commonCurrentLanguageHref(){var b=document.location.href;var a="/";if(b.indexOf("/cn/")!=-1){a="cn/"}else{if(b.indexOf("/tw/")!=-1){a="tw/"}else{if(b.indexOf("/de/")!=-1){a="de/"}else{if(b.indexOf("/es/")!=-1){a="es/"}else{if(b.indexOf("/pt/")!=-1){a="pt/"}else{if(b.indexOf("/jp/")!=-1){a="jp/"}else{if(b.indexOf("/fr/")!=-1){a="fr/"}}}}}}}return a}var LocalFunc={_:function(a){return localTipTitle[a]}};window.onkeydown=function(a){if(a.keyCode==27){let url=location.href;if(url.indexOf("/apps/logo")>-1){return}else{PanelFunc.closeModal()}}};var fbOauthAppId="348667772210542";if(document.domain==="www.photoframemaster.com"){fbOauthAppId="145376632291335"}window.fbAsyncInit=function(){FB.init({appId:fbOauthAppId,xfbml:true,version:"v2.11"})};(function(e,a,f){var c,b=e.getElementsByTagName(a)[0];if(e.getElementById(f)){return}c=e.createElement(a);c.id=f;c.src="//connect.facebook.net/en_US/sdk.js";b.parentNode.insertBefore(c,b)}(document,"script","facebook-jssdk"));var modalName=null;var PanelFunc={onClick:function(a,b){jQuery(a).click(b())},closeModal:function(){jQuery(".designevo-modal").hide();jQuery("#modal_mask").hide();this.resetPanels();modalName=null;if((typeof grecaptcha!=="undefined")&&grecaptcha){grecaptcha.reset(window.gcSignUp);grecaptcha.reset(window.gcSignIn)}},showModal:function(a){this.resetPanels();jQuery("#modal_mask").css({height:jQuery(document).height(),width:jQuery(document).width()}).show();jQuery("#"+a).find("input[type='text']").each(function(){if(jQuery(this).val()==""){jQuery(this).val("")}});jQuery("#"+a).css({"z-index":65556}).show();modalName=a},resetPanels:function(){PopupFunc.showUsernameError(0,false);PopupFunc.showUsernameError(1,false);PopupFunc.showUsername1Error(false);PopupFunc.showPswdError(0,false);PopupFunc.showPswdError(1,false);jQuery("input[name='username']")[1].value="";jQuery("input[name='password']")[1].value="";jQuery("input[name='username']")[0].value="";jQuery("input[name='username1']")[0].value="";jQuery("input[name='password']")[0].value="";jQuery("div[name='signuptip']")[0].style.display="none";jQuery("div[name='signintip']")[0].style.display="none"},modalVisible:function(a){if(jQuery("#"+a).is(":visible")&&jQuery("#modal_mask").is(":visible")){return true}return false},closeLoginSignup:function(){if(jQuery("#signin").is(":visible")){jQuery("#signin").hide()}if(jQuery("#signup").is(":visible")){jQuery("#signup").hide()}jQuery("#modal_mask").hide()},signUpToExport:function(a){var c=LocalFunc._("loginSaveTitle");var b=LocalFunc._("signupSaveTitle");switch(a){case"share":c=LocalFunc._("loginShareTitle");b=LocalFunc._("signupShareTitle");break;case"print":c=LocalFunc._("loginPrintTitle");b=LocalFunc._("signupPrintTitle");break;default:break}jQuery("span[name='signupTitle']")[0].innerHTML=b;jQuery("span[name='loginTitle']")[0].innerHTML=c;this.showSignUpPane();inAppClick=false},signIn:function(a){stopDefault(a);this.closeLoginSignup();this.showSignInPane()},showSignInPane:function(){jQuery("div[name='signintip']")[0].style.display="none";jQuery("span[name='usernametip']")[0].style.display="none";jQuery("span[name='passwordtip']")[0].style.display="none";this.showModal("signin");var a=CookieFunc.initLogin();AjaxPost.ajaxCheckLogin()},showSignUpPane:function(b){jQuery("div[name='signuptip']")[0].style.display="none";jQuery("span[name='usernametip']")[1].style.display="none";jQuery("span[name='passwordtip']")[1].style.display="none";this.showModal("signup");var a=CookieFunc.initLogin();AjaxPost.ajaxCheckLogin();if(b===true){jQuery(".modal_close").hide()}},signUp:function(a){stopDefault(a);this.closeLoginSignup();this.showSignUpPane("signup")},signinClick:function(){jQuery("span[name='signupTitle']")[0].innerHTML=LocalFunc._("signupTitle");jQuery("span[name='loginTitle']")[0].innerHTML=LocalFunc._("loginTitle");this.showSignInPane();if(inAppClick){inAppClick=false;return}},signupClick:function(){jQuery("span[name='signupTitle']")[0].innerHTML=LocalFunc._("signupTitle");jQuery("span[name='loginTitle']")[0].innerHTML=LocalFunc._("loginTitle");this.showSignUpPane();if(inAppClick){inAppClick=false;return}},confirmAccount:function(){this.closeModal();jQuery("#emailService")[0].click()},showLoginBtn:function(){jQuery("#unlogin").removeClass("u-hide");jQuery("#logged").addClass("u-hide")},hideLoginBtn:function(){jQuery("#unlogin").addClass("u-hide");jQuery("#logged").removeClass("u-hide")}};var googleUser={};var startGoogle=function(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"385660717962-nlcuj8f80042ufvvhk6br4t5apitmhhk.apps.googleusercontent.com",cookiepolicy:"single_host_origin"});attachGoogleSignin(jQuery("button[name='btnGoogle']")[0]);attachGoogleSignin(jQuery("button[name='btnGoogle']")[1])})};function attachGoogleSignin(a){auth2.attachClickHandler(a,{},function(b){loginGoogleFunc.onSignIn(b)},function(d){var b=0;if(PanelFunc.modalVisible("signup")){b=1}var c=jQuery("div[name='gl_progress']")[b];jQuery(c).hide();jQuery(a).html(loginGoogleFunc.glBtnHtml)})}var loginGoogleFunc={glBtnHtml:null,loginClick:function(d){stopDefault(d);var b=0;if(PanelFunc.modalVisible("signup")){b=1}var c=jQuery("div[name='gl_progress']")[b];var a=d.target;if(!this.glBtnHtml){this.glBtnHtml=jQuery(a).html()}jQuery(c).show();jQuery(a).html("")},onSignIn:function(a){var b=a.getAuthResponse().id_token;AjaxPost.ajaxConnectGoogle(b)},signOut:function(){try{var a=gapi.auth2.getAuthInstance();a.signOut().then(function(){})}catch(b){}}};var loginFacebookFunc={loginClick:function(f){stopDefault(f);var b=0;if(PanelFunc.modalVisible("signup")){b=1}var c=jQuery("div[name='fb_progress']")[b];var d=jQuery(f.target).html();var a=f.target;jQuery(c).show();jQuery(a).html("");FB.login(function(e){if(e.status==="connected"){this.handleFacebookConnected(e,d)}else{if(e.status==="not_authorized"){jQuery(c).hide();jQuery(a).html(d)}else{jQuery(c).hide();jQuery(a).html(d)}}}.bind(this),{scope:"public_profile,email"})},handleFacebookConnected:function(c,b){var a=c.authResponse.accessToken;AjaxPost.ajaxConnectFacebook(a,b)},statusChangeCallback:function(a){if(a.status==="connected"){this.handleFacebookConnected(a)}else{if(a.status==="not_authorized"){}else{}}},checkLoginState:function(){FB.getLoginStatus(function(a){this.statusChangeCallback(a)}.bind(this))}};var CookieFunc={initLogin:function(){if("true"===this.getCookie("designevo_remember")){var a=this.getCookie("designevo_usertoken");if(a){jQuery.ajax({type:"POST",url:"/index.php?option=com_designevo&task=user.rememberState",data:{token:a},success:function(b){b=b.substring(b.lastIndexOf("{'"));var d=new Function("return"+b)();if(d.result==true&&PanelFunc.modalVisible("signin")){var c=window.parent.document;jQuery("input[name='username']")[0].value=d.username;jQuery("input[name='password']")[0].value=d.pswd;jQuery("#remember").addClass("designevo-checkbox-btn-checked")}}})}}},setCookie:function(a,c){var b=10;var d=new Date();d.setTime(d.getTime()+b*24*60*60*1000);document.cookie=a+"="+escape(c)+";expires="+d.toGMTString()},getCookie:function(b){var a,c=new RegExp("(^| )"+b+"=([^;]*)(;|$)");if(a=document.cookie.match(c)){return unescape(a[2])}else{return null}},delCookie:function(a){var c=new Date();c.setTime(c.getTime()-1);var b=this.getCookie(a);if(b!=null){document.cookie=a+"="+b+";expires="+c.toGMTString()}}};var PopupFunc={checkEmail:function(a){if(a.indexOf(".")==-1){return false}var b=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;return b.test(a)},keyLogin:function(a){a=a?a:window.event;if(a.keyCode==13){jQuery("button[name='signinSubmit']")[0].click()}},keyRegister:function(a){a=a?a:window.event;if(a.keyCode==13){jQuery("button[name='signupSubmit']")[0].click()}},validateSignIn:function(){var i=window.document;var g=jQuery("div[name='signintip']")[0];var d=jQuery("span[name='usernametip']")[0];var b=jQuery("span[name='passwordtip']")[0];var k=395;var e=jQuery("input[name='username']")[0];var l=true;var f=e.value;f=f.replace(/(^\s*)|(\s*$)/g,"");e.value=f;if(f.length==0){d.innerHTML=LocalFunc._("mailEmptyTip");l=false;k+=2}else{if(f.length>64){d.innerHTML=LocalFunc._("mailLengthTip");l=false;k+=2}else{if(!this.checkEmail(f)){d.innerHTML=LocalFunc._("mailWrongTip");l=false;k+=2}}}var j=jQuery("input[name='password']")[0];var h=true;var a=j.value;a=a.replace(/(^\s*)|(\s*$)/g,"");j.value=a;var c=a.length;if(c==0){b.innerHTML=LocalFunc._("pswdEmptyTip");h=false;k+=3}else{if(c<6||c>64){b.innerHTML=LocalFunc._("pswdLengthTip");h=false;k+=18}}if(l&&h){return true}g.style.display="none";this.showUsernameError(0,!l);this.showPswdError(0,!h);return false},validateSignUp:function(){var k=window.parent.document;var o=jQuery("div[name='signuptip']")[0];var d=jQuery("span[name='usernametip']")[1];var e=jQuery("span[name='usernametip1']")[0];var b=jQuery("span[name='passwordtip']")[1];var n=414;var i=jQuery("input[name='username']")[1];var p=true;var h=i.value;h=h.replace(/(^\s*)|(\s*$)/g,"");i.value=h;if(h.length==0){d.innerHTML=LocalFunc._("mailEmptyTip");p=false}else{if(h.length>64){d.innerHTML=LocalFunc._("mailLengthTip");p=false}else{if(!this.checkEmail(h)){d.innerHTML=LocalFunc._("mailWrongTip");p=false}}}var g=jQuery("input[name='username1']")[0];var m=true;var f=g.value;if(f.length==0){e.innerHTML=LocalFunc._("mailWrongTip");m=false}else{if(h!==f){e.innerHTML=LocalFunc._("mailConfirmTip");m=false}}var l=jQuery("input[name='password']")[1];var j=true;var a=l.value;a=a.replace(/(^\s*)|(\s*$)/g,"");l.value=a;var c=a.length;if(c==0){b.innerHTML=LocalFunc._("pswdEmptyTip");j=false;n+=2}else{if(c<6||c>64){b.innerHTML=LocalFunc._("pswdLengthTip");j=false;n+=20}}if(!p&&!m&&!j){n+=2}else{if(p&&m&&j){return true}}o.style.display="none";this.showUsernameError(1,!p);this.showUsername1Error(!m);this.showPswdError(1,!j);return false},showUsernameError:function(a,b){var c=jQuery("span[name='usernametip']")[a];var d=jQuery("input[name='username']")[a];if(!b){c.style.display="none"}else{c.style.display="block"}},menuClick:function(){jQuery("#account_menu").hide()},showUsername1Error:function(a){var c=jQuery("span[name='usernametip1']")[0];var b=jQuery("input[name='username1']")[0];if(!a){c.style.display="none"}else{c.style.display="block"}},showPswdError:function(a,b){var c=jQuery("span[name='passwordtip']")[a];var d=jQuery("input[name='password']")[a];if(!b){c.style.display="none"}else{c.style.display="block"}}};